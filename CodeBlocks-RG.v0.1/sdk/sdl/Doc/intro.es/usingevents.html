<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>Using SDL: Events</title>
</head>

<body bgcolor="#FFF8DC" text="#000000">
<TABLE>
<TR><!--#include file="../menu.tmpl" -->
<TD>

<p align="center">
[<a href="usingvideo.html">Anterior</a>]
<a href="toc.html"><font color="#8B0000">Tabla De Contenido</font> </a>
[<a href="usingsound.html">Siguiente</a>]
</p>

<h1><font color="#8B0000">Usando la API de Simple DirectMedia Layer</font></h1>

<h2>Eventos </h2>

<table border="0" cellpadding="4">
    <tr>
        <td valign="top"><ul>
            <li><strong>Esperando eventos </strong></li>
        </ul>
        <blockquote>
            <p>Esperando eventos usando la función 
	    SDL_WaitEvent().</p>
        </blockquote>
        </td>
        <td valign="top" width="300" bgcolor="#D3D3D3"><b>Pista:</b><br>
	SDL tiene soporte de teclados internacionales, traducción
	de eventos de teclado y ubicación de los equivalentes UNICODE 
	en event.key.keysym.unicode. Ya que esto conlleva cierta 
	sobrecarga de proceso, debe habilitarse usando la función
        SDL_EnableUNICODE().</td>
	</tr>
</table>

<table border="0" cellpadding="50">
    <tr>
        <td valign="top"><font color="#000080"><strong>Ejemplo</strong></font><strong>:
        </strong><pre>
{
    SDL_Event event;

    SDL_WaitEvent(&amp;event);

    <font color="#0000FF">switch</font> (event.type) {
        <font color="#0000FF">case</font> SDL_KEYDOWN:
            printf(&quot;<font color="#000000">¡Se pulsó la tecla %s!\n</font>&quot;,
                   SDL_GetKeyName(event.key.keysym.sym));
            break;
        <font color="#0000FF">case</font> SDL_QUIT:
            exit(0);
    }
}
</pre>
        </td>
    </tr>
</table>

<table border="0" cellpadding="4">
    <tr>
        <td valign="top"><ul>
            <li><strong>Consultando eventos</strong> </li>
        </ul>
        <blockquote>
            <p>Consultar eventos usando la función
	    SDL_PollEvent(). </p>
        </blockquote>
        </td>
        <td valign="top" width="300" bgcolor="#D3D3D3"><b>Pista:</b><br>
	Puedes mirar los eventos de la cola de eventos sin 
	necesidad de eliminarlos pasando la acción
	SDL_PEEKEVENT a la función SDL_PeepEvents(). </td>
    </tr>
</table>

<table border="0" cellpadding="50">
    <tr>
        <td valign="top"><font color="#000080"><strong>Ejemplo</strong></font><strong>:
        </strong><pre>
{
    SDL_Event event;

    <font color="#0000FF">while</font> ( SDL_PollEvent(&amp;event) ) {
        <font color="#0000FF">switch</font> (event.type) {
            <font color="#0000FF">case</font> SDL_MOUSEMOTION:
                printf(&quot;<font color="#000000">El ratón se movió \
		       desde %d,%d hasta (%d,%d)\n</font>&quot;, \
                       event.motion.xrel, event.motion.yrel, \
                       event.motion.x, event.motion.y);
                break;
            <font color="#0000FF">case</font> SDL_MOUSEBUTTONDOWN:
                printf(&quot;<font color="#000000">Botón de ratón %d pulsado \
		       en (%d,%d)\n</font>&quot;,
                       event.button.button, event.button.x, 
		       event.button.y);
                break;
            <font color="#0000FF">case</font> SDL_QUIT:
                exit(0);
        }
    }
}
</pre>
        </td>
    </tr>
</table>

<table border="0" cellpadding="4">
    <tr>
        <td valign="top"><ul>
            <li><strong>Consultando el estado de evento</strong></li>
        </ul>
        <blockquote>
            <p>Además de manejar los eventos directamente, cada tipo
	    de evento tiene una función que te permite consultar el 
	    estado de evento de la aplicación. Si utilizas esto 
	    exclusivamente, deberías ignorar todos los eventos de 
	    la función SDL_EventState(), y llamar a SDL_PumpEvents()
	    periódicamente para actualizar el estado de evento de 
	    la aplicación.</p>
        </blockquote>
        </td>
        <td valign="top" width="300" bgcolor="#D3D3D3"><b>Pista:</b><br>
	Puedes ocultar o mostrar el cursor del ratón del sistema usando
	la función SDL_ShowCursor(). </td>
    </tr>
</table>

<table border="0" cellpadding="50">
    <tr>
        <td valign="top"><font color="#000080"><strong>Ejemplo</strong></font><strong>:
        </strong><pre>
{
    SDL_EventState(SDL_MOUSEMOTION, SDL_IGNORE);
}

<font color="#008000">void</font> CheckMouseHover(void)
{
    <font color="#008000">int</font> mouse_x, mouse_y;

    SDL_PumpEvents();

    SDL_GetMouseState(&amp;mouse_x, &amp;mouse_y);
    <font color="#0000FF">if</font> ( (mouse_x &lt; 32) &amp;&amp; (mouse_y &lt; 32) ) 
    {
        printf(&quot;<font color="#000000">¡Ratón en la esquina superior \
	       izquierda!\n</font>&quot;);
    }
}
</pre>
        </td>
    </tr>
</table>

<p align="center">
[<a href="usingvideo.html">Anterior</a>]
<a href="toc.html"><font color="#8B0000">Tabla De Contenido</font> </a>
[<a href="usingsound.html">Siguiente</a>]
</p>

</TABLE>
</body>
</html>
