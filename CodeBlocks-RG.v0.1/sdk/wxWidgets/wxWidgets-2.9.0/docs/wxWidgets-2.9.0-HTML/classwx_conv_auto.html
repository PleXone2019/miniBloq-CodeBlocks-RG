<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxConvAuto Class Reference</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 4 06:57:44 2009"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>wxConvAuto Class Reference<br>
<small>
[<a class="el" href="group__group__class__data.html">Data Structures</a>]</small>
</h1><!-- doxytag: class="wxConvAuto" --><!-- doxytag: inherits="wxMBConv" --><code>#include &lt;wx/convauto.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for wxConvAuto:</div>
<div class="dynsection">
<p><center><img src="classwx_conv_auto__inherit__graph.png" border="0" usemap="#wx_conv_auto__inherit__map" alt="Inheritance graph"></center>
<map name="wx_conv_auto__inherit__map">
<area shape="rect" href="classwx_m_b_conv.html" title="This class is the base class of a hierarchy of classes capable of converting text..." alt="" coords="8,7,99,39"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements a Unicode to/from multibyte converter capable of automatically recognizing the encoding of the multibyte text on input. 
<p>
The logic used is very simple: the class uses the BOM (byte order mark) if it's present and tries to interpret the input as UTF-8 otherwise. If this fails, the input is interpreted as being in the default multibyte encoding which can be specified in the constructor of a <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> instance and, in turn, defaults to the value of <a class="el" href="classwx_conv_auto.html#7dc2532ac7a49fddf4da770b1a814abd" title="Returns the encoding used by default by wxConvAuto if no other encoding is explicitly...">GetFallbackEncoding()</a> if not explicitly given.<p>
For the conversion from Unicode to multibyte, the same encoding as was previously used for multibyte to Unicode conversion is reused. If there had been no previous multibyte to Unicode conversion, UTF-8 is used by default. Notice that once the multibyte encoding is automatically detected, it doesn't change any more, i.e. it is entirely determined by the first use of <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> object in the multibyte-to-Unicode direction. However creating a copy of <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> object, either via the usual copy constructor or assignment operator, or using <a class="el" href="classwx_m_b_conv.html#e6fd1020a2c7c82191c4822682e80d05" title="This pure virtual function is overridden in each of the derived classes to return...">wxMBConv::Clone()</a>, resets the automatically detected encoding so that the new copy will try to detect the encoding of the input on first use.<p>
This class is used by default in wxWidgets classes and functions reading text from files such as <a class="el" href="classwx_file.html" title="A wxFile performs raw file I/O.">wxFile</a>, <a class="el" href="classwx_f_file.html" title="wxFFile implements buffered file I/O.">wxFFile</a>, <a class="el" href="classwx_text_file.html" title="The wxTextFile is a simple class which allows to work with text files on line by...">wxTextFile</a>, <a class="el" href="classwx_file_config.html" title="wxFileConfig implements wxConfigBase interface for storing and retrieving configuration...">wxFileConfig</a> and various stream classes so the encoding set with its <a class="el" href="classwx_conv_auto.html#5c3f9760a2ae03fbf4748423367e7903" title="Changes the encoding used by default by wxConvAuto if no other encoding is explicitly...">SetFallbackEncoding()</a> method will affect how these classes treat input files. In particular, use this method to change the fall-back multibyte encoding used to interpret the contents of the files whose contents isn't valid UTF-8 or to disallow it completely.<p>
<h2></h2>
<p>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxbase">wxBase</a></span></div><p>
<div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__data.html">Data Structures</a></span></div><p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="overview_mbconv.html">wxMBConv Overview</a> </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_conv_auto.html#88494409bdecddb4822470dd1ba8834a">wxConvAuto</a> (<a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a> enc=wxFONTENCODING_DEFAULT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs a new <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> instance.  <a href="#88494409bdecddb4822470dd1ba8834a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_conv_auto.html#f3751c63cbf505639501f8819318efdb">DisableFallbackEncoding</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable the use of the fall back encoding: if the input doesn't have a BOM and is not valid UTF-8, the conversion will fail.  <a href="#f3751c63cbf505639501f8819318efdb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_conv_auto.html#7dc2532ac7a49fddf4da770b1a814abd">GetFallbackEncoding</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the encoding used by default by <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> if no other encoding is explicitly specified in constructor.  <a href="#7dc2532ac7a49fddf4da770b1a814abd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_conv_auto.html#5c3f9760a2ae03fbf4748423367e7903">SetFallbackEncoding</a> (<a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a> enc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the encoding used by default by <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> if no other encoding is explicitly specified in constructor.  <a href="#5c3f9760a2ae03fbf4748423367e7903"></a><br></td></tr>
</table>

<p>
<a href="classwx_conv_auto-members.html">List of all members.</a><hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="88494409bdecddb4822470dd1ba8834a"></a><!-- doxytag: member="wxConvAuto::wxConvAuto" ref="88494409bdecddb4822470dd1ba8834a" args="(wxFontEncoding enc=wxFONTENCODING_DEFAULT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxConvAuto::wxConvAuto           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a>&nbsp;</td>
          <td class="paramname"> <em>enc</em> = <code>wxFONTENCODING_DEFAULT</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a new <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> instance. 
<p>
The object will try to detect the input of the multibyte text given to its <a class="el" href="classwx_m_b_conv.html#22ad1976c06a540a95dfa878038d65f2" title="Convert multibyte string to a wide character one.">wxMBConv::ToWChar()</a> method automatically but if the automatic detection of Unicode encodings fails, the fall-back encoding <em>enc</em> will be used to interpret it as multibyte text.<p>
The default value of <em>enc</em>, <code>wxFONTENCODING_DEFAULT</code>, means that the global default value (which can be set using <a class="el" href="classwx_conv_auto.html#5c3f9760a2ae03fbf4748423367e7903" title="Changes the encoding used by default by wxConvAuto if no other encoding is explicitly...">SetFallbackEncoding()</a>) should be used. As with that method, passing <code>wxFONTENCODING_MAX</code> inhibits using this encoding completely so the input multibyte text will always be interpreted as UTF-8 in the absence of BOM and the conversion will fail if the input doesn't form valid UTF-8 sequence.<p>
Another special value is <code>wxFONTENCODING_SYSTEM</code> which means to use the encoding currently used on the user system, i.e. the encoding returned by <a class="el" href="classwx_locale.html#a807dd0db36c3bd6556c2a37014239d6" title="Tries to detect the user&#39;s default font encoding.">wxLocale::GetSystemEncoding()</a>. Any other encoding will be used as is, e.g. passing <code>wxFONTENCODING_ISO8859_1</code> ensures that non-UTF-8 input will be treated as latin1. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f3751c63cbf505639501f8819318efdb"></a><!-- doxytag: member="wxConvAuto::DisableFallbackEncoding" ref="f3751c63cbf505639501f8819318efdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void wxConvAuto::DisableFallbackEncoding           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disable the use of the fall back encoding: if the input doesn't have a BOM and is not valid UTF-8, the conversion will fail. 
<p>

</div>
</div><p>
<a class="anchor" name="7dc2532ac7a49fddf4da770b1a814abd"></a><!-- doxytag: member="wxConvAuto::GetFallbackEncoding" ref="7dc2532ac7a49fddf4da770b1a814abd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a> wxConvAuto::GetFallbackEncoding           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the encoding used by default by <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> if no other encoding is explicitly specified in constructor. 
<p>
By default, returns <code>wxFONTENCODING_ISO8859_1</code> but can be changed using <a class="el" href="classwx_conv_auto.html#5c3f9760a2ae03fbf4748423367e7903" title="Changes the encoding used by default by wxConvAuto if no other encoding is explicitly...">SetFallbackEncoding()</a>. 
</div>
</div><p>
<a class="anchor" name="5c3f9760a2ae03fbf4748423367e7903"></a><!-- doxytag: member="wxConvAuto::SetFallbackEncoding" ref="5c3f9760a2ae03fbf4748423367e7903" args="(wxFontEncoding enc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void wxConvAuto::SetFallbackEncoding           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_2wx_2font_8h.html#09016a7497d1ec6defdf13fd6439acca">wxFontEncoding</a>&nbsp;</td>
          <td class="paramname"> <em>enc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the encoding used by default by <a class="el" href="classwx_conv_auto.html" title="This class implements a Unicode to/from multibyte converter capable of automatically...">wxConvAuto</a> if no other encoding is explicitly specified in constructor. 
<p>
The default value, which can be retrieved using <a class="el" href="classwx_conv_auto.html#7dc2532ac7a49fddf4da770b1a814abd" title="Returns the encoding used by default by wxConvAuto if no other encoding is explicitly...">GetFallbackEncoding()</a>, is <code>wxFONTENCODING_ISO8859_1</code>.<p>
Special values of <code>wxFONTENCODING_SYSTEM</code> or <code>wxFONTENCODING_MAX</code> can be used for the <em>enc</em> parameter to use the encoding of the current user locale as fall back or not use any encoding for fall back at all, respectively (just as with the similar constructor parameter). However, <code>wxFONTENCODING_DEFAULT</code> can't be used here. 
</div>
</div><p>
</div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 4 06:57:44 2009</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.5.8</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
