<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxLog Classes Overview</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 4 06:57:19 2009"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">Reference manual</a>&nbsp;&raquo&nbsp;<a class="el" href="page_topics.html">Topic Overviews</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="overview_log"><a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> Classes Overview </a></h1>Classes:<p>
<ul>
<li><a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> </li>
<li><a class="el" href="classwx_log_stderr.html" title="This class can be used to redirect the log messages to a C file stream (not to be...">wxLogStderr</a> </li>
<li><a class="el" href="classwx_log_stream.html" title="This class can be used to redirect the log messages to a C++ stream.">wxLogStream</a> </li>
<li><a class="el" href="classwx_log_text_ctrl.html" title="Using these target all the log messages can be redirected to a text control.">wxLogTextCtrl</a> </li>
<li><a class="el" href="classwx_log_window.html" title="This class represents a background log window: to be precise, it collects all log...">wxLogWindow</a> </li>
<li><a class="el" href="classwx_log_gui.html" title="This is the default log target for the GUI wxWidgets applications.">wxLogGui</a> </li>
<li><a class="el" href="classwx_log_null.html" title="This class allows you to temporarily suspend logging.">wxLogNull</a> </li>
<li><a class="el" href="classwx_log_buffer.html" title="wxLogBuffer is a very simple implementation of log sink which simply collects all...">wxLogBuffer</a> </li>
<li><a class="el" href="classwx_log_chain.html" title="This simple class allows you to chain log sinks, that is to install a new sink but...">wxLogChain</a> </li>
<li><a class="el" href="classwx_log_interposer.html" title="A special version of wxLogChain which uses itself as the new log target.">wxLogInterposer</a> </li>
<li><a class="el" href="classwx_log_interposer_temp.html" title="A special version of wxLogChain which uses itself as the new log target.">wxLogInterposerTemp</a> </li>
<li><a class="el" href="classwx_stream_to_text_redirector.html" title="This class can be used to (temporarily) redirect all output sent to a C++ ostream...">wxStreamToTextRedirector</a></li>
</ul>
<ul>
<li><a class="el" href="overview_log.html#overview_log_introduction">Introduction</a> </li>
<li><a class="el" href="overview_log.html#overview_log_targets">Log Targets</a> </li>
<li><a class="el" href="overview_log.html#overview_log_customize">Logging Customization</a></li>
</ul>
<hr>
<h2><a class="anchor" name="overview_log_introduction">
Introduction</a></h2>
This is a general overview of logging classes provided by wxWidgets. The word logging here has a broad sense, including all of the program output, not only non-interactive messages. The logging facilities included in wxWidgets provide the base <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> class which defines the standard interface for a <em>log</em> target as well as several standard implementations of it and a family of functions to use with them.<p>
First of all, no knowledge of <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> classes is needed to use them. For this, you should only know about <em>wxLogXXX()</em> functions. All of them have the same syntax as <em>printf()</em> or <em>vprintf()</em> , i.e. they take the format string as the first argument and respectively a variable number of arguments or a variable argument list pointer. Here are all of them:<p>
<ul>
<li>wxLogFatalError which is like wxLogError, but also terminates the program with the exit code 3 (using <em>abort()</em> standard function). Unlike for all the other logging functions, this function can't be overridden by a log target. </li>
<li>wxLogError is the function to use for error messages, i.e. the messages that must be shown to the user. The default processing is to pop up a message box to inform the user about it. </li>
<li>wxLogWarning for warnings. They are also normally shown to the user, but don't interrupt the program work. </li>
<li>wxLogMessage is for all normal, informational messages. They also appear in a message box by default (but it can be changed, see below). </li>
<li>wxLogVerbose is for verbose output. Normally, it is suppressed, but might be activated if the user wishes to know more details about the program progress (another, but possibly confusing name for the same function is wxLogInfo). </li>
<li>wxLogStatus is for status messages. They will go into the status bar of the active or specified (as the first argument) <a class="el" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a> if it has one. </li>
<li>wxLogSysError is mostly used by wxWidgets itself, but might be handy for logging errors after system call (API function) failure. It logs the specified message text as well as the last system error code (<em>errno</em> or GetLastError() depending on the platform) and the corresponding error message. The second form of this function takes the error code explicitly as the first argument. </li>
<li>wxLogDebug is <b>the</b> right function for debug output. It only does anything at all in the debug mode (when the preprocessor symbol __WXDEBUG__ is defined) and expands to nothing in release mode (otherwise). <b>Tip:</b> under Windows, you must either run the program under debugger or use a 3rd party program such as DebugView to actually see the debug output.<ul>
<li>DebugView: <a href="http://www.microsoft.com/technet/sysinternals/Miscellaneous/DebugView.mspx">http://www.microsoft.com/technet/sysinternals/Miscellaneous/DebugView.mspx</a> </li></ul>
</li>
<li>wxLogTrace as wxLogDebug only does something in debug build. The reason for making it a separate function from it is that usually there are a lot of trace messages, so it might make sense to separate them from other debug messages which would be flooded in them. Moreover, the second version of this function takes a trace mask as the first argument which allows to further restrict the amount of messages generated.</li>
</ul>
The usage of these functions should be fairly straightforward, however it may be asked why not use the other logging facilities, such as C standard stdio functions or C++ streams. The short answer is that they're all very good generic mechanisms, but are not really adapted for wxWidgets, while the log classes are. Some of advantages in using wxWidgets log functions are:<p>
<ul>
<li><b>Portability:</b> It is a common practice to use <em>printf()</em> statements or cout/cerr C++ streams for writing out some (debug or otherwise) information. Although it works just fine under Unix, these messages go strictly nowhere under Windows where the stdout of GUI programs is not assigned to anything. Thus, you might view <a class="el" href="group__group__funcmacro__log.html#g249358701f3c2d410088ddf7a61d8564" title="For all normal, informational messages.">wxLogMessage()</a> as a simple substitute for <em>printf()</em>. You can also redirect the <em>wxLogXXX</em> calls to <em>cout</em> by just writing: <div class="fragment"><pre class="fragment">    <a class="code" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a>* logger = <span class="keyword">new</span> <a class="code" href="classwx_log_stream.html" title="This class can be used to redirect the log messages to a C++ stream.">wxLogStream</a>(&amp;cout);
    <a class="code" href="classwx_log.html#c7ea85f71c8d3ecd4247f412be410505" title="Sets the specified log target as the active one.">wxLog::SetActiveTarget</a>(logger);
</pre></div> Finally, there is also a possibility to redirect the output sent to <em>cout</em> to a <a class="el" href="classwx_text_ctrl.html" title="A text control allows text to be displayed and edited.">wxTextCtrl</a> by using the <a class="el" href="classwx_stream_to_text_redirector.html" title="This class can be used to (temporarily) redirect all output sent to a C++ ostream...">wxStreamToTextRedirector</a> class. </li>
<li><b>Flexibility:</b> The output of <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> functions can be redirected or suppressed entirely based on their importance, which is either impossible or difficult to do with traditional methods. For example, only error messages, or only error messages and warnings might be logged, filtering out all informational messages. </li>
<li><b>Completeness:</b> Usually, an error message should be presented to the user when some operation fails. Let's take a quite simple but common case of a file error: suppose that you're writing your data file on disk and there is not enough space. The actual error might have been detected inside wxWidgets code (say, in <a class="el" href="classwx_file.html#0974a92a5c8793629fd9ee0f1735657c" title="Write data to the file (descriptor).">wxFile::Write</a>), so the calling function doesn't really know the exact reason of the failure, it only knows that the data file couldn't be written to the disk. However, as wxWidgets uses <a class="el" href="group__group__funcmacro__log.html#g0dd3c633f990f794e76065c9a7af4c87" title="The functions to use for error messages, i.e.">wxLogError()</a> in this situation, the exact error code (and the corresponding error message) will be given to the user together with "high level" message about data file writing error.</li>
</ul>
<h2><a class="anchor" name="overview_log_targets">
Log Targets</a></h2>
After having enumerated all the functions which are normally used to log the messages, and why would you want to use them we now describe how all this works.<p>
wxWidgets has the notion of a <em>log target</em>: it is just a class deriving from <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a>. As such, it implements the virtual functions of the base class which are called when a message is logged. Only one log target is <em>active</em> at any moment, this is the one used by <em>wxLogXXX()</em> functions. The normal usage of a log object (i.e. object of a class derived from <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a>) is to install it as the active target with a call to <em>SetActiveTarget()</em> and it will be used automatically by all subsequent calls to <em>wxLogXXX()</em> functions.<p>
To create a new log target class you only need to derive it from <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> and implement one (or both) of <em>DoLog()</em> and <em>DoLogString()</em> in it. The second one is enough if you're happy with the standard <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> message formatting (prepending "Error:" or "Warning:", timestamping &amp;c) but just want to send the messages somewhere else. The first one may be overridden to do whatever you want but you have to distinguish between the different message types yourself.<p>
There are some predefined classes deriving from <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> and which might be helpful to see how you can create a new log target class and, of course, may also be used without any change. There are:<p>
<ul>
<li><a class="el" href="classwx_log_stderr.html" title="This class can be used to redirect the log messages to a C file stream (not to be...">wxLogStderr</a>: This class logs messages to a <code>FILE *</code>, using stderr by default as its name suggests. </li>
<li><a class="el" href="classwx_log_stream.html" title="This class can be used to redirect the log messages to a C++ stream.">wxLogStream</a>: This class has the same functionality as <a class="el" href="classwx_log_stderr.html" title="This class can be used to redirect the log messages to a C file stream (not to be...">wxLogStderr</a>, but uses <em>ostream</em> and cerr instead of <code>FILE *</code> and stderr. </li>
<li><a class="el" href="classwx_log_gui.html" title="This is the default log target for the GUI wxWidgets applications.">wxLogGui</a>: This is the standard log target for wxWidgets applications (it is used by default if you don't do anything) and provides the most reasonable handling of all types of messages for given platform. </li>
<li><a class="el" href="classwx_log_window.html" title="This class represents a background log window: to be precise, it collects all log...">wxLogWindow</a>: This log target provides a "log console" which collects all messages generated by the application and also passes them to the previous active log target. The log window frame has a menu allowing user to clear the log, close it completely or save all messages to file. </li>
<li><a class="el" href="classwx_log_buffer.html" title="wxLogBuffer is a very simple implementation of log sink which simply collects all...">wxLogBuffer</a>: This target collects all the logged messages in an internal buffer allowing to show them later to the user all at once. </li>
<li><a class="el" href="classwx_log_null.html" title="This class allows you to temporarily suspend logging.">wxLogNull</a>: The last log class is quite particular: it doesn't do anything. The objects of this class may be instantiated to (temporarily) suppress output of <em>wxLogXXX()</em> functions. As an example, trying to open a non-existing file will usually provoke an error message, but if for some reasons it is unwanted, just use this construction: <div class="fragment"><pre class="fragment">    <a class="code" href="classwx_file.html" title="A wxFile performs raw file I/O.">wxFile</a> file;

    <span class="comment">// wxFile.Open() normally complains if file can't be opened, we don't want it</span>
    {
        <a class="code" href="classwx_log_null.html" title="This class allows you to temporarily suspend logging.">wxLogNull</a> logNo;
        <span class="keywordflow">if</span> ( !file.<a class="code" href="classwx_file.html#70f2abe0e310dcf77ea6aeaac60df25b" title="Opens the file, returning true if successful.">Open</a>(<span class="stringliteral">"bar"</span>) )
        {
            <span class="comment">// ... process error ourselves ...</span>
        }
    } <span class="comment">// ~wxLogNull called, old log sink restored</span>

    <a class="code" href="group__group__funcmacro__log.html#g249358701f3c2d410088ddf7a61d8564" title="For all normal, informational messages.">wxLogMessage</a>(<span class="stringliteral">"..."</span>); <span class="comment">// ok</span>
</pre></div></li>
</ul>
The log targets can also be combined: for example you may wish to redirect the messages somewhere else (for example, to a log file) but also process them as normally. For this the <a class="el" href="classwx_log_chain.html" title="This simple class allows you to chain log sinks, that is to install a new sink but...">wxLogChain</a>, <a class="el" href="classwx_log_interposer.html" title="A special version of wxLogChain which uses itself as the new log target.">wxLogInterposer</a>, and <a class="el" href="classwx_log_interposer_temp.html" title="A special version of wxLogChain which uses itself as the new log target.">wxLogInterposerTemp</a> can be used.<h2><a class="anchor" name="overview_log_customize">
Logging Customization</a></h2>
To completely change the logging behaviour you may define a custom log target. For example, you could define a class inheriting from <a class="el" href="classwx_log.html" title="wxLog class defines the interface for the log targets used by wxWidgets logging functions...">wxLog</a> which shows all the log messages in some part of your main application window reserved for the message output without interrupting the user work flow with modal message boxes.<p>
To use your custom log target you may either call <a class="el" href="classwx_log.html#c7ea85f71c8d3ecd4247f412be410505" title="Sets the specified log target as the active one.">wxLog::SetActiveTarget()</a> with your custom log object or create a wxAppTraits-derived class and override CreateLogTarget() virtual method in it and also override <a class="el" href="classwx_app_console.html#b2811644bfee7a93d0564a09397c4408" title="Creates the wxAppTraits object when GetTraits() needs it for the first time.">wxApp::CreateTraits()</a> to return an instance of your custom traits object. Notice that in the latter case you should be prepared for logging messages early during the program startup and also during program shutdown so you shouldn't rely on existence of the main application window, for example. You can however safely assume that GUI is (already/still) available when your log target as used as wxWidgets automatically switches to using <a class="el" href="classwx_log_stderr.html" title="This class can be used to redirect the log messages to a C file stream (not to be...">wxLogStderr</a> if it isn't.<p>
The dialog sample illustrates this approach by defining a custom log target customizing the dialog used by <a class="el" href="classwx_log_gui.html" title="This is the default log target for the GUI wxWidgets applications.">wxLogGui</a> for the single messages. </div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 4 06:57:19 2009</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.5.8</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
