<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxTextDataObject Class Reference</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 4 06:59:31 2009"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>wxTextDataObject Class Reference<br>
<small>
[<a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a>]</small>
</h1><!-- doxytag: class="wxTextDataObject" --><!-- doxytag: inherits="wxDataObjectSimple" --><code>#include &lt;wx/dataobj.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for wxTextDataObject:</div>
<div class="dynsection">
<p><center><img src="classwx_text_data_object__inherit__graph.png" border="0" usemap="#wx_text_data_object__inherit__map" alt="Inheritance graph"></center>
<map name="wx_text_data_object__inherit__map">
<area shape="rect" href="classwx_u_r_l_data_object.html" title="wxURLDataObject is a wxDataObject containing an URL and can be used e.g." alt="" coords="13,255,144,287"><area shape="rect" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class." alt="" coords="5,89,152,121"><area shape="rect" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged..." alt="" coords="27,7,131,39"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a> is a specialization of <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a> for text data. 
<p>
It can be used without change to paste data into the <a class="el" href="classwx_clipboard.html" title="A class for manipulating the clipboard.">wxClipboard</a> or a <a class="el" href="classwx_drop_source.html" title="This class represents a source for a drag and drop operation.">wxDropSource</a>. A user may wish to derive a new class from this class for providing text on-demand in order to minimize memory consumption when offering data in several formats, such as plain text and RTF because by default the text is stored in a string in this class, but it might as well be generated when requested. For this, <a class="el" href="classwx_text_data_object.html#15a488fff1040695932831cbf91dc5c8" title="Returns the data size.">GetTextLength()</a> and <a class="el" href="classwx_text_data_object.html#6b43294c05885cc8981b37f3c42815bd" title="Returns the text associated with the data object.">GetText()</a> will have to be overridden.<p>
Note that if you already have the text inside a string, you will not achieve any efficiency gain by overriding these functions because copying wxStrings is already a very efficient operation (data is not actually copied because wxStrings are reference counted).<p>
<b>wxPython Note:</b> If you wish to create a derived <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a> class in wxPython you should derive the class from wxPyTextDataObject in order to get Python-aware capabilities for the various virtual methods.<p>
<h2></h2>
<p>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxcore">wxCore</a></span></div><p>
<div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a></span></div><p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="overview_dnd.html">Drag and Drop Overview</a>, <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged...">wxDataObject</a>, <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a>, <a class="el" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a> </dd></dl>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#1d1c7457cb2b89f2df0a11129344c078">wxTextDataObject</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;text=<a class="el" href="interface_2wx_2string_8h.html#9a321d587166a30017b608dd2d234033">wxEmptyString</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor, may be used to initialise the text (otherwise <a class="el" href="classwx_text_data_object.html#c6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a> should be used later).  <a href="#1d1c7457cb2b89f2df0a11129344c078"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classwx_string.html">wxString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#6b43294c05885cc8981b37f3c42815bd">GetText</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the text associated with the data object.  <a href="#6b43294c05885cc8981b37f3c42815bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#15a488fff1040695932831cbf91dc5c8">GetTextLength</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the data size.  <a href="#15a488fff1040695932831cbf91dc5c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#b1a9ad66f48fed3e8eeea799d798eb95">GetFormatCount</a> (<a class="el" href="classwx_data_object.html#7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a> dir=Get)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 2 under wxMac and wxGTK, where text data coming from the clipboard may be provided as ANSI (<code>wxDF_TEXT</code>) or as Unicode text (<code>wxDF_UNICODETEXT</code>, but only when <code>wxUSE_UNICODE==1</code>).  <a href="#b1a9ad66f48fed3e8eeea799d798eb95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#73b44708bbca270fb80dbf2ca267488e">GetFormat</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the preferred format supported by this object.  <a href="#73b44708bbca270fb80dbf2ca267488e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#6ef0b55724e5376e86552db82461c004">GetAllFormats</a> (<a class="el" href="classwx_data_format.html">wxDataFormat</a> *formats, <a class="el" href="classwx_data_object.html#7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a> dir=Get) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns all the formats supported by <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a>.  <a href="#6ef0b55724e5376e86552db82461c004"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#c6754f3ad536bd0fa99928604ec48e7a">SetText</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;strText)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the text associated with the data object.  <a href="#c6754f3ad536bd0fa99928604ec48e7a"></a><br></td></tr>
</table>

<p>
<a href="classwx_text_data_object-members.html">List of all members.</a><hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1d1c7457cb2b89f2df0a11129344c078"></a><!-- doxytag: member="wxTextDataObject::wxTextDataObject" ref="1d1c7457cb2b89f2df0a11129344c078" args="(const wxString &amp;text=wxEmptyString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxTextDataObject::wxTextDataObject           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>text</em> = <code><a class="el" href="interface_2wx_2string_8h.html#9a321d587166a30017b608dd2d234033">wxEmptyString</a></code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor, may be used to initialise the text (otherwise <a class="el" href="classwx_text_data_object.html#c6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a> should be used later). 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6ef0b55724e5376e86552db82461c004"></a><!-- doxytag: member="wxTextDataObject::GetAllFormats" ref="6ef0b55724e5376e86552db82461c004" args="(wxDataFormat *formats, Direction dir=Get) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxTextDataObject::GetAllFormats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_format.html">wxDataFormat</a> *&nbsp;</td>
          <td class="paramname"> <em>formats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwx_data_object.html#7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns all the formats supported by <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a>. 
<p>
Under wxMac and wxGTK they are <code>wxDF_TEXT</code> and <code>wxDF_UNICODETEXT</code>, under other ports returns only one of the two, depending on the build mode. 
<p>Implements <a class="el" href="classwx_data_object.html#71abcc4eb2229e936ea53ebdefa53bef">wxDataObject</a>.</p>

</div>
</div><p>
<a class="anchor" name="73b44708bbca270fb80dbf2ca267488e"></a><!-- doxytag: member="wxTextDataObject::GetFormat" ref="73b44708bbca270fb80dbf2ca267488e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classwx_data_format.html">wxDataFormat</a>&amp; wxTextDataObject::GetFormat           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the preferred format supported by this object. 
<p>
This is <code>wxDF_TEXT</code> or <code>wxDF_UNICODETEXT</code> depending on the platform and from the build mode (i.e. from <code>wxUSE_UNICODE</code>). 
<p>Reimplemented from <a class="el" href="classwx_data_object_simple.html#bd9099ed166b9fc902106f06db8a8338">wxDataObjectSimple</a>.</p>

</div>
</div><p>
<a class="anchor" name="b1a9ad66f48fed3e8eeea799d798eb95"></a><!-- doxytag: member="wxTextDataObject::GetFormatCount" ref="b1a9ad66f48fed3e8eeea799d798eb95" args="(Direction dir=Get)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxTextDataObject::GetFormatCount           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_object.html#7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 2 under wxMac and wxGTK, where text data coming from the clipboard may be provided as ANSI (<code>wxDF_TEXT</code>) or as Unicode text (<code>wxDF_UNICODETEXT</code>, but only when <code>wxUSE_UNICODE==1</code>). 
<p>
Returns 1 under other platforms (e.g. wxMSW) or when building in ANSI mode (<code>wxUSE_UNICODE==0</code>). 
</div>
</div><p>
<a class="anchor" name="6b43294c05885cc8981b37f3c42815bd"></a><!-- doxytag: member="wxTextDataObject::GetText" ref="6b43294c05885cc8981b37f3c42815bd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classwx_string.html">wxString</a> wxTextDataObject::GetText           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the text associated with the data object. 
<p>
You may wish to override this method when offering data on-demand, but this is not required by wxWidgets' internals. Use this method to get data in text form from the <a class="el" href="classwx_clipboard.html" title="A class for manipulating the clipboard.">wxClipboard</a>. 
</div>
</div><p>
<a class="anchor" name="15a488fff1040695932831cbf91dc5c8"></a><!-- doxytag: member="wxTextDataObject::GetTextLength" ref="15a488fff1040695932831cbf91dc5c8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxTextDataObject::GetTextLength           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the data size. 
<p>
By default, returns the size of the text data set in the constructor or using <a class="el" href="classwx_text_data_object.html#c6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a>. This can be overridden to provide text size data on-demand. It is recommended to return the text length plus 1 for a trailing zero, but this is not strictly required. 
</div>
</div><p>
<a class="anchor" name="c6754f3ad536bd0fa99928604ec48e7a"></a><!-- doxytag: member="wxTextDataObject::SetText" ref="c6754f3ad536bd0fa99928604ec48e7a" args="(const wxString &amp;strText)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxTextDataObject::SetText           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>strText</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the text associated with the data object. 
<p>
This method is called when the data object receives the data and, by default, copies the text into the member variable. If you want to process the text on the fly you may wish to override this function. 
</div>
</div><p>
</div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 4 06:59:31 2009</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.5.8</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
